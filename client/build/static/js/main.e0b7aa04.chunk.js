(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t,a){e.exports=a.p+"static/media/logo.f895a17f.png"},130:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF42lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA3LTIwVDEyOjUzOjM1KzA1OjMwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNy0yMFQxMzowMToyMCswNTozMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNy0yMFQxMzowMToyMCswNTozMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1YjFkMWUwOS0xZWEwLTM4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"},198:function(e,t,a){e.exports=a.p+"static/media/imageUpload.73a9f061.png"},207:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF42lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA3LTIxVDIyOjQ3OjQ4KzA1OjMwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNy0yMVQyMzoxMDowOCswNTozMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNy0yMVQyMzoxMDowOCswNTozMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1Yzc5MzU4Ni1kMTc3LWM1NGQtYjUwZi1hMWEyMjg3MmNhYjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ZjM1ZDI3NjgtYjgxZC01ODRlLWE0ZDEtMmNhMmM0M2Q4NjExIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZjM1ZDI3NjgtYjgxZC01ODRlLWE0ZDEtMmNhMmM0M2Q4NjExIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmMzVkMjc2OC1iODFkLTU4NGUtYTRkMS0yY2EyYzQzZDg2MTEiIHN0RXZ0OndoZW49IjIwMjAtMDctMjFUMjI6NDc6NDgrMDU6MzAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NWM3OTM1ODYtZDE3Ny1jNTRkLWI1MGYtYTFhMjI4NzJjYWI0IiBzdEV2dDp3aGVuPSIyMDIwLTA3LTIxVDIzOjEwOjA4KzA1OjMwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+4cNhygAACAZJREFUeJztnVFy4zgMBZGpvf+Vsx9b3FEcm5YsgngAug8wIwKvBVKx5a/v72+D5UQV9Svo/y3LP9EXUAClO8yza0GaGyDINZRkOAvS3ABB3pNRincc14QsExDkNxWFmPG4XoQ5gCD/0U2KGUyXA90FQYw5oz5tRekoCFJcp+1U6SQIYqyh1VTpIAhi+NBClMqCIMYeSotSURDEiKGkKJUEQQwNSonyJ/oCFoEcepToSfYJUqIJhUk/TbIKghi5SCtKxi0WcuQlXe8yTZB0xZ3w6Z20Qg1STZMsgmQMhkcAZv9mthp9WwJJMgiSofEKjX52Deq1k5dEWRDl5ko39cDjdSrWVHrLpSqIYiMlG3iR4xrUaiw5TRQFUWqcXMMWoiiLnCRqj3lVGvVlYo1yRmm9KhkwM50JolAUlYBEojJVZM4lChMkWg6lu6cSCnWJzka4IJEFUAhABqLrFCpJpCCRr+dEjOtE1i1MkihBeHdtXlpJEiFIxEKZGmuJquf27OwWZPcCEcOXiPpuzdBOQSLkgD2UlWSXIDvlYGrEsLvuWzK1Q5DdckAspSSJ/jvISpBDhzK98BZkx/RgS6XJrr64ZsxTkF1ygDapJfESBDngSFpJPARBDnhGSkkyHtKRIy/perdaEO/pka7A8AvvHi7N4EpBkAPOkkaSVYIgB1wlhSQZziDIURf53q4QxHN6yBcQbuPZ49vZvCsIcsAKZCVR3WIhRz8ke35HEK/pIVko2IJX7z/OqtoEQQ6QysCngoS/rwjgIh9l9hNB2FqBNzJbLZUtFnLAIxKZuCqIx/SQKARI4pGNSxlWmSAAklwRhOkBEYROkcgJghxwlrCsnBWEx7pQjVOZjpogTA+4SkhmzvzCVOXpUXltK6l6Q3v7m4gRE0Sh2N+GHFdQqdf27LwTZHVRVOSAz1Co3eoMTdfU7e8gCg3OTqsa7hREYXpADbZlaSZItTtFtfVEUq2WL9eza4IwPWA1WzL1SpBqdwiAdzzN/I4JwvQAL9yz1e0pFsAlngnC9gq68iv73hOE7RV445qxTlssZF1Hm1p6CtKmiBCOW9YeBal+/kDa+1Sv4Q8HOm2xBtUb7Em72nkJol5I9etTRL1mLtd3/MJU9e3VI+oNhzj+/yJVxy0WwGk8BOHODFEszx4TBGACggBMGIJ0O6ADvOPbbP0E4fwB0SzNIFssgAkIAjABQQAm/DEO6AAvWTlBOKCDCquy+M0WC2ACggBMQBCACQgCMOHMD+hUh6d4c1o/fOksCGKcY9SppSirtliZiqfya0nZyFa3JZnsdgbJ1GAQoJsgcJ9WN5lOgrRqrDNtatlJEIDLIAjABAQBmIAgABMQBGACggBMQBCACZ0EyfRxGHXa1LKTIGaNGutIqxp2EwTgEqsEyfTRgy9rdhdcRLa6Lclk5++DjGZnkjuCTFIsp7Mgg9YBgDmcQQAmIAjABAQBmIAgABNWCsLTIFBhVRa//hhPcQBewhYLYAKCAExAEIAJqwXhoA7RLM3gEISDOsBPvszYYgFMQRCACR6CcA6BKJZnj4+7/wWxf8K51H4K8mW9QtJprZ/wWJ9Owvy/Vq8ziHr41K9PEfWauVxfx0O6eqOVaVe7R0Gqj9F2DXageg1/OOA5QaoXEnRwy1qnLRbCrqNNLb0FaVNICMM1Y88EqX4OAXjFr+x32mIBXGaHIGyzwAv3bL0ShG0WdONp5ndtsZgisJotmZoJUm2KVFtPJNVq+XI9Ow/pTBFYxbYsdXuKVe3OF0GrGr4TZHUxFKZIqwYvRqF2qzM0XVPEBFGRRKHZWVCp1/bsnPlGYeUvUik0HeJ42/+oM0hV4cCPkMycFYQ7LVTjVKYjn2IxReAsYVm5IojHFEESeIdHRk5nudvfQQAucVUQpgjsJHR6mOlMECSBRyQy8YkgXk+0JAoCEnhl4XJ2P50gPPaFbHyUWZUt1oApAlIZuCMIWy1YjczWaqA2QQZI0g/Jnt8VxPMsIlkwcMGz17cyumKCIAncQVYOM90t1hEkqYt8b1cJ4v3YV76QcBnvni7J5MoJgiRwlhRymK3fYiEJvCONHGY5ziCPIEle0vXOQ5AdH0NJV2jY0rPl2fOaIEgCR1LKYea7xUISMEssh5n/GWSXJIiix66+uGYs4yH9FUiiQ5le7BBk53dHyjQmMTt74J6tXRNktySIsp/ddd+SqZ1brN3fQkSSfeyu9bYs7T6DREiCKH5E1HdrhiIO6RHfZ0eUtUTVc3t2op5iRb30AUnuE1XDkMxEPuaNlARRrhNZt7C36ET/HSTy9UGIco7oOoW+YurMD+h4E/0DPeP/5l1fP4m+eUj0Q0EQs7/FUBDFTKQ5AURLMZCpf/QW6xGVwkRvK3ajtF6VDJiZzgQ5Er3lOlJ5qqjU+IhcjRUFMdOSZFBBFrWaHpGsqaogZhrnklc8XpNkc02zdo+o1s7MtAUZKE6TR55dH589e4+0HGY5BDHLIckjs+v9NBjZajBDXg6zPIKYaW+5rlJhDZ+SQoyB2mPeM6QqMPwgXe8yTZAjlaZJB9KJMcgqyABRtEkrxiDjFusZ6RtRkBI9yT5BjjBNNCghxqCSIANEiaGUGIOKggwQZQ8lxRhUFmSAKD6UFmPQQZABoqyhhRiDToIMjg1GlnO0kuJIR0GOMFXmtBVj0F2QAVPlL+2lOIIgv3kMSHVhEGICgryn4nRBipMgyDWeBUtdGmS4AYLc51UAS7/UuQv/AuA9KgeYroKXAAAAAElFTkSuQmCC"},233:function(e,t,a){e.exports=a(349)},268:function(e,t){},272:function(e,t,a){},273:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){e.exports=a.p+"static/media/login-logo-blk.6421f490.png"},293:function(e,t,a){},294:function(e,t,a){},296:function(e,t,a){},297:function(e,t,a){},298:function(e,t,a){},299:function(e,t,a){},300:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){},303:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},322:function(e,t){},324:function(e,t){},332:function(e,t,a){},341:function(e,t,a){},342:function(e,t,a){},343:function(e,t,a){e.exports=a.p+"static/media/calling.d2cab8e3.gif"},344:function(e,t,a){},345:function(e,t,a){},348:function(e,t,a){},349:function(e,t,a){"use strict";a.r(t);var n=a(13),l=a.n(n),c=a(1),o=a.n(c),r=a(12),i=a(200),s=a.n(i)()("/"),u=a(34),m=a(19),d=a(7),E=a(75),p=a.n(E),g=a(395),f=a(397),h=a(381),v=a(391),b=a(45),A=a(38),I=a(77),C=a(87),y=a(204),S=a(49),O=a(128),j=(a(272),a(394));a(273);function R(e){var t=e.anchorEl,a=e.handleClose,n=e.handleDeletePost,l=e.post,c=Boolean(t),r=c?"DeletePostPopUp":void 0;return o.a.createElement("div",null,o.a.createElement(j.a,{id:r,open:c,anchorEl:t,onClose:a,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"}},o.a.createElement("div",{id:"postDelete-pop-container"},o.a.createElement("p",null,"Are you sure ?"),o.a.createElement("button",{onClick:function(){var e=null;e="Public"===l.postType?l.publicPostId:l._id,n(e,l.postType),a()}},o.a.createElement(O.a,null)))))}var M=function(e){var t=e.post,a=e.userId,n=e.handleDeletePost,l=Object(c.useState)(!1),r=Object(d.a)(l,2),i=r[0],s=r[1],u=Object(c.useState)(null),m=Object(d.a)(u,2),E=m[0],j=m[1],M=null;return(null===t||void 0===t?void 0:t.createdBy._id)===a&&(M=o.a.createElement(c.Fragment,null,o.a.createElement("button",{id:"postCardItem-edit",onClick:function(){s(!i)}},o.a.createElement(S.a,null)),o.a.createElement("button",{id:"postCardItem-delete",onClick:function(e){!function(e){j(e.currentTarget)}(e)}},o.a.createElement(O.a,null)),E&&o.a.createElement(R,{anchorEl:E,post:t,handleDeletePost:n,handleClose:function(){j(null)}}))),o.a.createElement("div",{id:"postCardItem-container"},o.a.createElement("div",{id:"postCardItem-title"},o.a.createElement(g.a,{id:"postCardItem-avatar",src:t.createdBy.profilePicUrl}),o.a.createElement("div",{id:"postCardItem-userDate"},o.a.createElement("h4",null,t.createdBy.username),o.a.createElement("p",null,p()(t.createdAt).format("LLL"))),o.a.createElement("div",{id:"postCardItem-miniAct"},o.a.createElement(h.a,{id:"postCardItem-control"},o.a.createElement(v.a,{disableUnderline:!0,value:t.postType,readOnly:!0,displayEmpty:!0},o.a.createElement(f.a,{id:'"postCardItem-select',value:"Private"},o.a.createElement(b.b,null)),o.a.createElement(f.a,{id:'"postCardItem-select',value:"Friends"},o.a.createElement(A.b,null)),o.a.createElement(f.a,{id:'"postCardItem-select',value:"Public"},o.a.createElement(I.a,null)))),M)),o.a.createElement("hr",null),o.a.createElement("div",{id:"postCardItem-post"},t.uploadPath&&o.a.createElement("img",{src:t.uploadPath,alt:t._id}),o.a.createElement("p",null,t.post)),o.a.createElement("hr",null),o.a.createElement("div",{id:"postCardItem-action"},o.a.createElement("button",null,o.a.createElement(C.c,null),o.a.createElement("span",null,t.isLiked.length)),o.a.createElement("button",null,o.a.createElement(C.a,null),o.a.createElement("span",null,t.isDisliked.length)),o.a.createElement("button",null,o.a.createElement(y.a,null),o.a.createElement("span",null,t.comments.length))))};var N=Object(r.b)((function(e){return{publicPosts:e.publicPosts,userId:e.login._id}}))((function(e){var t=e.publicPosts,a=e.userId;return o.a.createElement("div",null,o.a.createElement("h1",{style:{color:"white"}},"Welcome to Giggle-DisBot"),null===t||void 0===t?void 0:t.map((function(e){return o.a.createElement(M,{key:e._id,post:e,userId:a})})))})),P=a(129),k=a(205),T=a(206),w=a(218),B=a(217),D=a(15),L=a.n(D),Z=localStorage.getItem("token"),U=function(e,t){return function(){L.a.post("/users/login",e).then((function(e){if(console.log("[PROMISE-token-login]",e.data),e.data.hasOwnProperty("error"))alert(e.data.error);else{var a=e.data.token;localStorage.setItem("token",a),alert("Login Successful"),t(),window.location.reload()}})).catch((function(e){return console.log(e)}))}},Q=(a(290),function(e){Object(w.a)(n,e);var t=Object(B.a)(n);function n(){var e;Object(k.a)(this,n);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={email:"",password:"",show:!1},e.handleChange=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e.handleShow=function(){e.setState((function(e){return{show:!e.show}}))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n={email:a.email,password:a.password};console.log(n),e.props.dispatch(U(n,(function(){return e.props.history.push("/")})))},e}return Object(T.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"login-container"},o.a.createElement("div",{className:"login-logo"},o.a.createElement("img",{className:"login-logo-img",src:a(291),alt:"logo"})),o.a.createElement("form",{className:"login-form",onSubmit:this.handleSubmit},o.a.createElement("div",{className:"form-control"},o.a.createElement("label",{htmlFor:"email"},"Email"),o.a.createElement("input",{type:"email",name:"email",id:"email",value:this.state.email,onChange:this.handleChange,placeholder:"Enter your email"})),o.a.createElement("div",{className:"form-control"},o.a.createElement("label",{htmlFor:"password"},"Password"),o.a.createElement("input",{type:this.state.show?"text":"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange,placeholder:"Password"})),o.a.createElement("div",{className:"checkbox-control"},o.a.createElement("div",null,o.a.createElement("input",{type:"checkbox",name:"show",id:"show",value:this.state.show,onClick:this.handleShow}),o.a.createElement("label",{htmlFor:"show"},"Show password")),o.a.createElement(u.b,{className:"link",to:"#"},"Forgot Password ?")),o.a.createElement("input",{className:"btn-login",type:"submit",value:"Sign In"}),o.a.createElement("small",null,"Don't have an account?",o.a.createElement(u.b,{className:"link",to:"/users/register"},"Sign Up"))))}}]),n}(c.Component)),F=Object(r.b)()(Q),x=a(399),G=a(393),W=a(385);function Y(e){var t="";return localStorage.getItem("token")||(t="navMoveToEnd"),o.a.createElement("nav",{className:"navbar"},o.a.createElement("ul",{className:"navbar-nav ".concat(t)}," ",e.children," "))}function _(e){return o.a.createElement("li",{className:"nav-item ".concat(e.styleClassLi)},o.a.createElement(u.b,{className:"link-item ".concat(e.styleClass),to:e.to,onClick:e.onClick},e.name))}a(293);var J=a(114),z=a.n(J),V=localStorage.getItem("token"),H=a(130),X=a.n(H),K=a(398),q=a(207),$=a.n(q);a(294);var ee=function(e){var t=Object(c.useState)(!1),a=Object(d.a)(t,2),n=a[0],l=a[1],r=function(){return function(){l(!n)}},i=e.handleLogout,s=Object(m.g)();return o.a.createElement("div",{className:"app-bar-contain"},o.a.createElement("nav",null,o.a.createElement("img",{src:z.a,alt:"chatbot",className:"logo-appbar",onClick:function(){s.push("/")}}),o.a.createElement("button",null,o.a.createElement("img",{src:$.a,alt:"menu",className:"burger-menu",onClick:r()})),o.a.createElement(K.a,{anchor:"top",open:n,onClose:r()},o.a.createElement("div",{className:"appbar-drawer"},o.a.createElement(_,{to:"/users/notifications",styleClass:"badge",styleClassLi:"badge-li appBarLi",name:o.a.createElement(W.a,{badgeContent:0,color:"secondary"},o.a.createElement(S.b,null)),onClick:r()}),o.a.createElement(_,{to:"/users/posts",name:o.a.createElement("img",{src:X.a,alt:"postIcon"}),styleClass:"post-icon-nav",styleClassLi:"appBarLi",onClick:r()}),o.a.createElement(_,{to:"/users/friends",name:o.a.createElement(A.b,null),styleClassLi:"appBarLi",onClick:r()}),o.a.createElement(_,{to:"/users/chat",name:o.a.createElement(b.a,null),styleClassLi:"appBarLi",onClick:r()}),o.a.createElement(_,{to:"#",name:o.a.createElement(A.a,null),styleClass:"sign-out",styleClassLi:"appBarLi",onClick:i})))))};var te=Object(r.b)((function(e){return{user:e.login}}))((function(e){var t=Object(m.g)(),a=localStorage.getItem("token"),n=Object(c.useState)(""),l=Object(d.a)(n,2),r=l[0],i=l[1],s=function(){e.dispatch((function(e){localStorage.removeItem("token"),e({type:"CLEAR_USER_DATA"}),window.location.href="/"}))};return console.log("nav----",a),console.log("USER--------",e.user),o.a.createElement("div",{className:"nav-container"},a?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"navHide"},o.a.createElement(Y,null,o.a.createElement("img",{src:z.a,alt:"chatbot",className:"logo",onClick:function(){t.push("/")}}),o.a.createElement("form",{className:"search-bar",onSubmit:function(a){a.preventDefault();var n={searchUser:r};e.dispatch(function(e){return function(t){L.a.post("/users/search",e,{headers:{"x-auth":V}}).then((function(e){console.log("[PROMISE-search]",e.data);var a=e.data;a.hasOwnProperty("errors")?(t({type:"CLEAR_SEARCH_RESULT"}),alert("".concat(a.message))):t({type:"SET_SEARCH_RESULT",payload:a})})).catch((function(e){return console.log(e)}))}}(n)),console.log("submit",r),t.push("/users/search")}},o.a.createElement(G.a,{className:"search-input",variant:"outlined",placeholder:"Search...",onChange:function(e){i(e.target.value)},value:r,InputProps:{startAdornment:o.a.createElement(x.a,{position:"start"},o.a.createElement(b.c,null))}})),o.a.createElement(_,{to:"/users/notifications",styleClass:"badge",styleClassLi:"badge-li",name:o.a.createElement(W.a,{badgeContent:e.user.notifications.length,color:"secondary"},o.a.createElement(S.b,null))}),o.a.createElement(_,{to:"/users/posts",name:o.a.createElement("img",{src:X.a,alt:"postIcon"}),styleClass:"post-icon-nav"}),o.a.createElement(_,{to:"/users/friends",name:o.a.createElement(A.b,null)}),o.a.createElement(_,{to:"/users/chat",name:o.a.createElement(b.a,null)}),o.a.createElement(_,{to:"#",name:o.a.createElement(A.a,null),styleClass:"sign-out",onClick:s}))),o.a.createElement(ee,{onClick:s})):o.a.createElement(Y,null,o.a.createElement("img",{src:z.a,alt:"chatbot",className:"logo-out",onClick:function(){t.push("/")}}),o.a.createElement(_,{to:"/users/register",name:"Register",styleClassLi:"register",styleClass:"register-link"}),o.a.createElement(_,{to:"/users/login",name:"Sign In",styleClassLi:"sign-in",styleClass:"sign-in-link"})),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("p",null,e.user._id&&o.a.createElement("span",null,e.user.username," - ",e.user.email)))})),ae=a(88),ne=a(82),le=a(81),ce=a(390),oe=a(386),re=a(387),ie=a(388),se=(a(296),Object(le.a)().shape({username:Object(le.c)().required().min(4,"minimum 4 characters"),email:Object(le.c)().email().required(),password:Object(le.c)().required().min(6,"minimum 6 characters"),confirmPass:Object(le.c)().oneOf([Object(le.b)("password")],"password must match")}));var ue=Object(r.b)()((function(e){var t=Object(c.useState)(!1),a=Object(d.a)(t,2),n=a[0],l=a[1],r=function(){console.log(n,"showPass"),l(!n)},i=function(){e.history.push("/users/login")};return o.a.createElement("div",{className:"form-container"},o.a.createElement(ne.c,{initialValues:{username:"",password:"",confirmPass:"",email:""},validationSchema:se,onSubmit:function(t,a){var n=a.setSubmitting,l=Object(ae.a)({},t);e.dispatch(function(e,t,a){return function(){L.a.post("/users/register",e).then((function(e){console.log("[PROMISE-login]",e.data);var n=e.data;n.hasOwnProperty("keyPattern")?1===n.keyPattern.email?(alert("email already exists"),a()):(alert("username already exists"),a()):(alert("Successfully registered"),a(),t())})).catch((function(e){return console.log("ERROR-login",e)}))}}(l,i,(function(){n(!1)})))}},(function(e){var t=e.isSubmitting,a=(e.values,e.errors),l=e.touched,i=e.isValid;return o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"form-register"},o.a.createElement("h1",null,"Register"),o.a.createElement(ne.b,null,o.a.createElement(ce.a,{marginBottom:2},o.a.createElement(oe.a,null,o.a.createElement(ne.a,{error:l.username&&Boolean(a.username),type:"text",name:"username",label:"Username",variant:"outlined",as:G.a,helperText:l.username&&a.username}))),o.a.createElement(ce.a,{marginBottom:2},o.a.createElement(oe.a,null,o.a.createElement(ne.a,{error:l.email&&Boolean(a.email),helperText:l.email&&a.email,type:"email",name:"email",label:"Email",variant:"outlined",as:G.a}))),o.a.createElement(ce.a,{marginBottom:2},o.a.createElement(oe.a,null,o.a.createElement(ne.a,{error:l.password&&Boolean(a.password),helperText:l.password&&a.password,type:n?"text":"password",name:"password",label:"Password",variant:"outlined",as:G.a,InputProps:{endAdornment:o.a.createElement(x.a,{position:"end"},o.a.createElement(re.a,{onClick:r,className:"icon-svg"},n?o.a.createElement(I.b,null):o.a.createElement(I.c,null)))}}))),o.a.createElement(ce.a,{marginBottom:2},o.a.createElement(oe.a,null,o.a.createElement(ne.a,{error:l.confirmPass&&Boolean(a.confirmPass),helperText:l.confirmPass&&a.confirmPass,type:"password",name:"confirmPass",label:"Confirm Password",variant:"outlined",as:G.a}))),o.a.createElement(ie.a,{variant:"contained",color:"primary",type:"submit",className:"btn-register",disabled:t||!i},"SIGN UP"))))})))}));a(297);function me(e){return o.a.createElement("div",{className:"card"},o.a.createElement("ul",{className:"card-wrap"},e.children))}function de(e){var t=e.img,a=e.username,n=e._id,l=e.isFriend,r=e.sendByMe,i=e.status,s=e.handleRequest,u=e.handleAccept,m=e.handleReject,d=e.handleRemove;return o.a.createElement("div",{className:"card-item-wrap"},o.a.createElement("img",{className:"avatar",src:t,alt:a}),o.a.createElement("li",{className:"card-item"},e.username),l?o.a.createElement(c.Fragment,null,r&&"Pending"===i?o.a.createElement("button",{className:"btn btn-cancel-friend",onClick:function(){s(n,l,r,i)}},"Cancel Request"):o.a.createElement(c.Fragment,null,"Accepted"===i?o.a.createElement("button",{className:"btn btn-remove-friend",onClick:function(){d(n)}},"Remove"):"Pending"===i&&o.a.createElement(c.Fragment,null,o.a.createElement("button",{className:"btn btn-accept-friend",onClick:function(){u(n)}},"Accept"),o.a.createElement("button",{className:"btn btn-reject-friend",onClick:function(){m(n)}},"Reject")))):o.a.createElement("button",{className:"btn",onClick:function(){s(n,l)}},"Add Friend"))}var Ee=Object(r.b)((function(e){return{results:e.searchResult}}))((function(e){var t=function(t,a,n,l){a?n&&"Pending"===l&&e.dispatch(function(e,t){return function(a){L.a.post("/users/search/cancelRequest/".concat(e),t,{headers:{"x-auth":V}}).then((function(e){console.log("[PROMISE-search-cancel-request]",e.data);var t=e.data;t.hasOwnProperty("errors")?alert(t.message):a({type:"SET_CANCEL_REQUEST",payload:t})}))}}(t)):e.dispatch(function(e,t){return function(a){L.a.post("/users/search/sendRequest/".concat(e),t,{headers:{"x-auth":V}}).then((function(e){console.log("[PROMISE-search-send-request]",e.data);var t=e.data;t.hasOwnProperty("errors")?alert(t.message):a({type:"SET_SENT_REQUEST",payload:t})}))}}(t))},a=function(t){e.dispatch(function(e,t){return function(a){L.a.post("/users/search/acceptRequest/".concat(e),t,{headers:{"x-auth":V}}).then((function(e){console.log("[PROMISE-search-accept-request]",e.data);var t=e.data;t.hasOwnProperty("errors")?alert(t.message):a({type:"SET_ACCEPT_REQUEST",payload:t})}))}}(t))},n=function(t){e.dispatch(function(e,t){return function(a){L.a.post("/users/search/rejectRequest/".concat(e),t,{headers:{"x-auth":V}}).then((function(e){console.log("[PROMISE-search-reject-request]",e.data);var t=e.data;t.hasOwnProperty("errors")?alert(t.message):a({type:"SET_REJECT_REQUEST",payload:t})}))}}(t))},l=function(t){e.dispatch(function(e,t){return function(a){L.a.post("/users/search/removeFriend/".concat(e),t,{headers:{"x-auth":V}}).then((function(e){console.log("[PROMISE-search-remove-friend]",e.data);var t=e.data;t.hasOwnProperty("errors")?alert(t.message):a({type:"SET_REMOVE_FRIEND",payload:t})}))}}(t))};return o.a.createElement("div",null,o.a.createElement(me,null,e.results&&e.results.map((function(e){return o.a.createElement(de,{key:e._id,username:e.username,img:e.profilePicUrl,isFriend:e.isFriend,status:e.status&&e.status,handleRequest:t,_id:e._id,sendByMe:e.sendByMe,handleAccept:a,handleReject:n,handleRemove:l})}))))}));a(298);var pe=function(e){return o.a.createElement("div",{id:"search-container"},o.a.createElement("input",{type:"text",placeholder:"Search"}))};a(299);var ge=function(){return o.a.createElement("div",{id:"no-chat-layout"},o.a.createElement("div",{id:"no-chat-content"},o.a.createElement("h2",null,"No Chats"),o.a.createElement("p",null,"Currently you have no chats."),o.a.createElement("p",null,"To start a new chat click the button below."),o.a.createElement("button",{onClick:null},"New Chat")))},fe=a(98),he=a.n(fe);a(300);var ve=function(e){var t,a,n=e.chat,l=e.isActive,c=e.onChatItemSelected,r=he()("chat",{active:l}),i=(null===n||void 0===n?void 0:n.inbox.slice(0).sort((function(e,t){return e.createdAt.localeCompare(t.createdAt)}))).slice(0).pop();return i?(a=i.createdAt,t="text"===i.type?i.message:""):(a=null===n||void 0===n?void 0:n.createdAt,t=""),o.a.createElement("div",{className:r,onClick:function(){c(n)}},o.a.createElement("img",{src:n.info.profilePicUrl,alt:n.info.username}),o.a.createElement("div",{className:"title-text"},n.info.username),o.a.createElement("div",{className:"created-date"},p()(a).fromNow()),o.a.createElement("div",{className:"chat-message"},t))};a(301);var be=function(e){var t=e.chats,a=e.selectedChat,n=e.onChatItemSelected,l=t.filter((function(e){return"Pending"!==e.status})),c=t&&l.map((function(e){var t=a&&e.info._id===a.info._id;return o.a.createElement(ve,{key:e.info._id,onChatItemSelected:n,isActive:t,chat:e})}));return o.a.createElement("div",{id:"chat-list"},c)};a(302);var Ae=function(){return o.a.createElement("div",{id:"new-message-container"})};a(303);var Ie=function(e){var t=e.selectedChat,a=null===t||void 0===t?void 0:t.info._id,n=null,l=Object(m.g)();return t&&(n=o.a.createElement(c.Fragment,null,o.a.createElement("span",null,t.info.username),o.a.createElement("button",{id:"chatTitle-videoCall-btn",onClick:function(){l.push("/users/videocall/".concat(a))}},o.a.createElement(S.d,null)))),o.a.createElement("div",{id:"chat-title"},n)},Ce=(a(304),a(305),a(389)),ye=a(392),Se=a(384),Oe=a(351),je=(a(306),Object(Ce.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5]}}})));function Re(e){var t=je(),a=o.a.useState(!1),n=Object(d.a)(a,2),l=n[0],r=n[1],i=e.message,s=e.modalStatus;Object(c.useState)((function(){r(s)}),[]);return o.a.createElement("div",null,o.a.createElement(ye.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:l,onClose:function(){r(!1),e.handleModalStatus()},closeAfterTransition:!0,BackdropComponent:Se.a,BackdropProps:{timeout:500}},o.a.createElement(Oe.a,{in:l},o.a.createElement("div",{className:t.paper},o.a.createElement("img",{className:"modal-img",src:i.message,alt:i._id})))))}var Me=function(e){var t=e.isMyMessage,a=e.message,n=e.imageUrl,l=e.imageAlt,r=Object(c.useState)(!1),i=Object(d.a)(r,2),s=i[0],u=i[1],m=he()("message-row",{"you-message":t,"other-message":!t}),E=t?null:o.a.createElement("img",{className:"avatar",src:n,alt:l}),g=function(){u(!s)},f=null;return"text"===a.type?f=o.a.createElement("div",{className:m},o.a.createElement("div",{className:"message-content"},E,o.a.createElement("div",{className:"message-text"},a.message),o.a.createElement("div",{className:"message-time"},p()(a.createdAt).format("MMMM Do YYYY, h:mm:ss a")))):"image/video"===a.type&&(f=o.a.createElement("div",{className:m},o.a.createElement("div",{className:"message-content"},E,o.a.createElement("img",{className:"message-file",src:a.message,alt:a._id,onClick:function(){g()}}),s&&o.a.createElement(Re,{message:a,modalStatus:s,handleModalStatus:g}),o.a.createElement("div",{className:"message-time"},p()(a.createdAt).format("MMMM Do YYYY, h:mm:ss a"))))),o.a.createElement(c.Fragment,null,f)};var Ne=function(e){var t=e.selectedChat,a=null,n=Object(c.useRef)(null);return t&&t.inbox.length&&(a=t.inbox.sort((function(e,t){return-e.createdAt.localeCompare(t.createdAt)})).map((function(e){return o.a.createElement(Me,{key:e._id,isMyMessage:e.isMyMessage,message:e,imageUrl:t.info.profilePicUrl,imageAlt:t.info.username})}))),Object(c.useEffect)((function(){n.current.scrollIntoView({behavior:"smooth"})}),[a]),o.a.createElement("div",{id:"chat-message-list"},o.a.createElement("div",{ref:n}),a)},Pe=a(116);a(307);var ke=function(e){var t=e.selectedChat,a=e.onMessageSubmitted,n=e.onFileUpload,l=Object(c.useState)(""),r=Object(d.a)(l,2),i=r[0],s=r[1],u=null;return t&&(u=o.a.createElement(c.Fragment,null,o.a.createElement("input",{type:"text",placeholder:"type a message",value:i,onChange:function(e){s(e.target.value)}}),o.a.createElement(Pe.a,{onDrop:function(e){var t=new FormData;t.append("file",e[0]),t.append("type","image/video"),n(t)}},(function(e){var t=e.getRootProps,a=e.getInputProps;return o.a.createElement("section",null,o.a.createElement("div",t(),o.a.createElement("input",a()),o.a.createElement("button",{type:"button",id:"upload-btn"},o.a.createElement(S.c,null))))})),o.a.createElement("button",{type:"submit"},"Send"))),o.a.createElement("form",{id:"chat-form",onSubmit:function(e){e.preventDefault(),i.length>0&&(a(i),s(""))}},u)},Te=(a(308),localStorage.getItem("token")),we=function(e){return{type:"SET_SEND_MSG",payload:e}};var Be=Object(r.b)((function(e){return{chats:e.login.friends,selectedChat:e.selectedChat,user:e.login}}))((function(e){var t=e.chats,a=e.selectedChat,n=null===a||void 0===a?void 0:a.info._id;console.log(t,"chatshell");var l=o.a.createElement(c.Fragment,null,o.a.createElement(ge,null));return t.length>0&&(l=o.a.createElement(c.Fragment,null,o.a.createElement(Ne,{selectedChat:a}))),o.a.createElement("div",{id:"chat-container"},o.a.createElement(pe,{chats:t}),o.a.createElement(be,{onChatItemSelected:function(t){var a;e.dispatch((a=t,function(e){e(function(e){return{type:"SELECTED_ID",payload:e}}(a))})),console.log("selectedChat-----\x3e",t._id)},chats:t,selectedChat:a}),o.a.createElement(Ae,null),o.a.createElement(Ie,{selectedChat:a}),l,o.a.createElement(ke,{selectedChat:a,onMessageSubmitted:function(t){var a={message:t};console.log("SEND MESSAGE --------\x3e",n,t),e.dispatch(function(e,t){return function(a){L.a.post("/users/sendMsg/".concat(e),t,{headers:{"x-auth":Te}}).then((function(e){console.log("[PROMISE-send-msg]",e.data);var t=e.data;t.hasOwnProperty("errors")?alert(t.message):a(we(t))})).catch((function(e){return console.log("[ERROR-send-msg]",e)}))}}(n,a))},onFileUpload:function(t){console.log(n,t,"file-upload"),e.dispatch(function(e,t){return function(a){L.a.post("/users/chats/upload/".concat(e),t,{headers:{"content-type":"multipart/form-data","x-auth":Te}}).then((function(e){console.log("[PROMISE-upload-file]",e.data);var t=e.data;t.hasOwnProperty("errors")?alert(t.message):a({type:"UPLOAD_FILE",payload:t})})).catch((function(e){return console.log("[ERROR-upload-msg]",e)}))}}(n,t))}}))})),De=localStorage.getItem("token");var Le=Object(r.b)((function(e){return{friends:e.login.friends}}))((function(e){var t=function(t,a,n,l){a&&n&&"Pending"===l&&e.dispatch(function(e,t){return function(a){L.a.post("/users/friends/cancelRequest/".concat(e),t,{headers:{"x-auth":De}}).then((function(e){console.log("[PROMISE-friend-cancel-request]",e.data);var t=e.data;t.hasOwnProperty("errors")?alert(t.message):a({type:"FRIEND_CANCEL_REQUEST",payload:t})}))}}(t))},a=function(t){e.dispatch(function(e,t){return function(a){L.a.post("/users/friends/acceptRequest/".concat(e),t,{headers:{"x-auth":De}}).then((function(e){console.log("[PROMISE-accept-request]",e.data);var t=e.data;t.hasOwnProperty("errors")?alert(t.message):a({type:"FRIEND_ACCEPT_REQUEST",payload:t})}))}}(t))},n=function(t){e.dispatch(function(e,t){return function(a){L.a.post("/users/friends/rejectRequest/".concat(e),t,{headers:{"x-auth":De}}).then((function(e){console.log("[PROMISE-reject-request]",e.data);var t=e.data;t.hasOwnProperty("errors")?alert(t.message):a({type:"FRIEND_REJECT_REQUEST",payload:t})}))}}(t))},l=function(t){e.dispatch(function(e,t){return function(a){L.a.post("/users/friends/removeFriend/".concat(e),t,{headers:{"x-auth":De}}).then((function(e){console.log("[PROMISE-remove-friend]",e.data);var t=e.data;t.hasOwnProperty("errors")?alert(t.message):a({type:"FRIEND_REMOVE",payload:t})}))}}(t))},r=e.friends;return Object(c.useEffect)((function(){e.dispatch((function(e){L.a.get("/users/friendList",{headers:{"x-auth":De}}).then((function(t){console.log("[PROMISE-update-friend-list]",t.data);var a=t.data;a.hasOwnProperty("errors")?alert(a.message):e({type:"UPDATE_FRIEND_LIST",payload:a})}))}))}),[]),o.a.createElement("div",null,o.a.createElement(me,null,r&&r.map((function(e){return o.a.createElement(de,{key:e._id,username:e.info.username,img:e.info.profilePicUrl,isFriend:e.isFriend,status:e.status&&e.status,handleRequest:t,_id:e.info._id,sendByMe:e.sendByMe,handleAccept:a,handleReject:n,handleRemove:l})}))))})),Ze=a(158),Ue=a.n(Ze),Qe=(a(332),a(212)),Fe=a.n(Qe),xe=a(214),Ge=a(213),We=(a(341),Object(Ce.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5]}}})));function Ye(e){var t=We(),a=o.a.useState(!1),n=Object(d.a)(a,2),l=n[0],r=n[1],i=e.view,s=e.modalStatus,u=e.message,E=Object(m.g)();Object(c.useState)((function(){r(i)}),[]);return o.a.createElement("div",null,o.a.createElement(ye.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:l,onClose:function(){r(!1)},closeAfterTransition:!0,BackdropComponent:Se.a,BackdropProps:{timeout:500}},o.a.createElement(Oe.a,{in:l},o.a.createElement("div",{id:"call-alert-modal",className:t.paper},o.a.createElement(Ge.a,{id:"offline-icon"}),o.a.createElement("h2",null,u),o.a.createElement("button",{id:"close-alert",onClick:function(){s(),E.push("/users/chat")}},"Close")))))}var _e=Object(r.b)((function(e){return{user:e.login,selectedChat:e.selectedChat,callState:e.call}}))((function(e){var t=Object(c.useRef)(),a=Object(c.useRef)(),n=Object(m.g)(),l=null,r=Object(c.useRef)(!1),i=Object(c.useRef)(!1),u=Object(c.useState)(!0),E=Object(d.a)(u,2),p=E[0],g=E[1],f=Object(c.useState)(),h=Object(d.a)(f,2),v=h[0],b=h[1],A=Object(c.useState)(!1),I=Object(d.a)(A,2),C=I[0],y=I[1],S=Object(c.useState)(),O=Object(d.a)(S,2),j=O[0],R=O[1],M=Object(c.useState)(""),N=Object(d.a)(M,2),P=N[0],k=N[1],T=Object(c.useState)(!1),w=Object(d.a)(T,2),B=w[0],D=w[1],L=Object(c.useState)(""),Z=Object(d.a)(L,2),U=Z[0],Q=Z[1],F=e.user,x=e.callState,G=x.signal,W=e.match.params.id;console.log("params id --\x3e",W);var Y=null===F||void 0===F?void 0:F._id,_=Fe.a.parse(e.location.search,{parseBooleans:!0});console.log(_,"incoming-call query");var J,z,V=he()("clientVideo",{"clientVideo-accepted":C}),H=null===x||void 0===x?void 0:x.callReceiving;return Object(c.useEffect)((function(){return console.log(W,"---\x3eRID"),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){b(e),l=e,t.current&&(t.current.srcObject=e),_.receiving&&(R(G.signal),k(G.from),console.log("[EFFECT-SET-RECEIVING-CALL]",P,j))})).catch((function(e){console.log(e),n.push("/users/chat")})),function(){console.log("streamVideo closed",l),l&&l.getTracks().forEach((function(e){"live"===e.readyState&&e.stop()})),console.log("[***INIT**]",W,Y,H,"[CALL-END] --\x3e",r.current),i.current||r.current||(W?s.emit("connectionClosed",{to:W,from:Y}):H&&s.emit("connectionClosed",{to:G.from,from:Y})),r.current=!1,i.current=!1,e.dispatch({type:"CLEAR_CALL_STATE"}),s.off("connectionClosed")}}),[]),Object(c.useEffect)((function(){if(console.log("++++++++++++++++++++++++++++++++++++CallPEER",W),W){return e.dispatch({type:"INCALL_INITIATE",payload:!0}),function(e){var t=new Ue.a({initiator:!0,trickle:!1,stream:v}),n=function(e){t.destroy(),console.log("data fail",e),setTimeout((function(){Q(e.message),D(!0)}),2e3)};t.on("signal",(function(e){s.emit("callUser",{userToCall:W,signalData:e,from:Y})})),t.on("stream",(function(e){a.current&&(a.current.srcObject=e)})),s.on("callAccepted",(function(e){y(!0),console.log("accepted signal",e),t.signal(e)})),s.on("not-reachable",n),s.on("callRejected",n),s.on("call-disconnected",n),s.on("callChannelClosed",n),s.on("callClosedByUser",n),s.on("caller engaged",(function(e){t.destroy(),console.log("data fail",e),setTimeout((function(){Q(e.message),D(!0),i.current=!0}),2e3)}))}(),function(){s.off("callAccepted"),s.off("callRejected"),s.off("not-reachable"),s.off("call-disconnected"),s.off("callChannelClosed"),s.off("callClosedByUser"),s.off("caller engaged")}}}),[v,Y,W,_.connectId]),Object(c.useEffect)((function(){if(_.attend&&P&&_.connectId){!function(){y(!0);var e=new Ue.a({initiator:!1,trickle:!1,stream:v}),t=function(t){e.destroy(),console.log("data fail",t),setTimeout((function(){Q(t.message),D(!0)}),2e3)};e.on("signal",(function(e){s.emit("acceptCall",{signal:e,to:P,from:Y})})),e.on("stream",(function(e){a.current.srcObject=e})),e.signal(j),s.on("callChannelClosed",t),s.on("callClosedByUser",t)}()}return function(){s.off("callChannelClosed"),s.off("callClosedByUser")}}),[j,v,P,Y,_.connectId]),v&&(J=o.a.createElement("video",{className:V,playsInline:!0,muted:!0,ref:t,autoPlay:!0})),C&&(z=o.a.createElement("video",{controls:!0,id:"partnerVideo",ref:a,autoPlay:!0})),o.a.createElement("div",{id:"v-call-container"},B&&o.a.createElement(Ye,{view:p,modalStatus:function(){g(!1)},message:U}),o.a.createElement("div",{id:"call-video-box"},o.a.createElement("div",null,J),o.a.createElement("div",null,z)),o.a.createElement("button",{id:"call-end",onClick:function(){s.emit("endCallByUser",{user:F._id}),r.current=!0,setTimeout((function(){n.push("/users/chat")}),1500)}},o.a.createElement(xe.a,null)))}));var Je=function(e){return o.a.createElement("div",null,o.a.createElement(Be,null),o.a.createElement(_e,null))},ze=(a(342),Object(Ce.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5]}}})));function Ve(e){var t=ze(),n=o.a.useState(!1),l=Object(d.a)(n,2),r=l[0],i=l[1],s=e.view,u=e.modalStatus,m=e.name,E=e.pic,p=e.handleAttendCall,g=e.handleRejectCall;Object(c.useState)((function(){i(s)}),[]);return o.a.createElement("div",null,o.a.createElement(ye.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:r,onClose:function(){i(!1)},closeAfterTransition:!0,BackdropComponent:Se.a,BackdropProps:{timeout:500}},o.a.createElement(Oe.a,{in:r},o.a.createElement("div",{id:"call-modal",className:t.paper},o.a.createElement("img",{id:"call-img",src:a(343),alt:"calling"}),o.a.createElement("div",{id:"caller"},o.a.createElement("img",{id:"caller-avatar",src:E,alt:"name"}),o.a.createElement("h3",{id:"caller-name"},m)),o.a.createElement("div",{id:"call-btns"},o.a.createElement("button",{id:"acc-call",onClick:function(){u(),p()}},"Accept"),o.a.createElement("button",{id:"rej-call",onClick:function(){g(),u()}},"Reject"))))))}var He=Object(r.b)((function(e){return{callState:e.call}}))((function(e){var t=Object(c.useState)(!1),a=Object(d.a)(t,2),n=a[0],l=a[1],r=Object(c.useState)(""),i=Object(d.a)(r,2),u=i[0],E=i[1],p=Object(c.useState)(""),g=Object(d.a)(p,2),f=g[0],h=g[1],v=Object(c.useState)({}),b=Object(d.a)(v,2),A=b[0],I=b[1],C=Object(c.useState)(!1),y=Object(d.a)(C,2),S=y[0],O=y[1],j=Object(c.useState)(""),R=Object(d.a)(j,2),M=R[0],N=R[1],P=e.callState,k=null===P||void 0===P?void 0:P.callReceiving,T=function(t){console.log("[VIDEO-SIGNAL]",t);var a={from:t.from,signal:t.signal};e.dispatch(function(e){return{type:"SAVE_SIGNAL",payload:e}}(a)),P.callInitiator||(e.dispatch({type:"INCALL_RECEIVING",payload:!0}),k||l(!0)),I(a),E(t.username),h(t.profilePicUrl);var n="/users/videoCall?from=".concat(t.from,"&connectId=").concat(t.connect_id,"&receiving=true&attend=true");N(n)};return Object(c.useEffect)((function(){return console.log("VideoCall listener fn() loaded"),s.on("call listener",T),function(){console.log("VideoCall listening closed"),s.off("call listener",T),S&&(O(!1),l(!1))}})),o.a.createElement("div",null,o.a.createElement(c.Fragment,null,n&&!S&&o.a.createElement(Ve,{modalStatus:function(){l(!1)},view:n,name:u,pic:f,handleAttendCall:function(){O(!0)},handleRejectCall:function(){e.dispatch({type:"CLEAR_CALL_STATE"}),s.emit("rejectCall",{from:A.from})}}),S&&o.a.createElement(m.a,{to:M})))}));var Xe=Object(r.b)()((function(e){var t=function(t){console.log(t,"[MESSAGE_SERVER]"),e.dispatch(we(t))};return Object(c.useEffect)((function(){return console.log("socketFnMessages() connected on load"),s.on("server message listening",t),function(){console.log("socket listening closed"),s.off("server message listening",t)}}),[]),null})),Ke=(a(344),a(345),Object(Ce.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})));function qe(e){var t=Ke(),a=o.a.useState(!1),n=Object(d.a)(a,2),l=n[0],r=n[1],i=e.modalStatus,s=e.addPost;Object(c.useState)((function(){r(i)}),[]);return o.a.createElement("div",null,o.a.createElement(ye.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:l,onClose:function(){r(!1),e.handleModalStatus()},closeAfterTransition:!0,BackdropComponent:Se.a,BackdropProps:{timeout:500}},o.a.createElement(Oe.a,{in:l},o.a.createElement("div",{id:"post-paper"},s))))}var $e=a(216);a(347);function et(e){var t=e.anchorEl,a=e.handleClose,n=e.handleAddEmoji,l=Boolean(t),c=l?"EmojiPopUp":void 0;return o.a.createElement("div",null,o.a.createElement(j.a,{id:c,open:l,anchorEl:t,onClose:a,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},o.a.createElement($e.a,{title:"Pick your emoji\u2026",emoji:"point_up",onSelect:n})))}var tt=localStorage.getItem("token"),at=function(e){return{type:"ADD_NEW_POST",payload:e}};function nt(e){var t=e.user,n=e.handleDrop,l=e.fileUp,r=e.post,i=e.pType,s=e.handleClearFileUpload,u=e.handlePassPostData,m=e.handleSubmit,E=Object(c.useState)("Private"),p=Object(d.a)(E,2),y=p[0],S=p[1],O=Object(c.useState)(""),j=Object(d.a)(O,2),R=j[0],M=j[1],N=Object(c.useState)(null),P=Object(d.a)(N,2),k=P[0],T=P[1],w=Object(c.useState)(""),B=Object(d.a)(w,2),D=B[0],L=B[1];Object(c.useEffect)((function(){r&&(S(i),M(r))}),[]),console.log(!R.length,!Boolean(l),"check disabled");return Object(c.useEffect)((function(){u(R,y)}),[R,y]),o.a.createElement("div",{id:"add-post-container"},o.a.createElement("h1",null,"Create post"),o.a.createElement("hr",null),o.a.createElement("div",{id:"add-ava-user"},o.a.createElement(g.a,{id:"post-avatar",src:t.profileImg}),o.a.createElement("div",{id:"add-post-type"},o.a.createElement("h4",null,t.username),o.a.createElement(h.a,null,o.a.createElement(v.a,{id:"select-post-type",value:y,onChange:function(e){S(e.target.value)},displayEmpty:!0},o.a.createElement(f.a,{value:"Private"},o.a.createElement(b.b,null),"Only me"),o.a.createElement(f.a,{value:"Friends"},o.a.createElement(A.b,null),"Friends"),o.a.createElement(f.a,{value:"Public"},o.a.createElement(I.a,null),"Public"))))),l&&o.a.createElement("div",{id:"add-file-up"},o.a.createElement("img",{src:URL.createObjectURL(l),alt:"fileUp"}),o.a.createElement("button",{id:"add-file-up-close",onClick:s},"X")),o.a.createElement("div",{id:"add-post-wrapper"},o.a.createElement("textarea",{id:"add-post-text",style:{height:"".concat(D,"px")},type:"text",value:R,placeholder:"Whats on your mind,".concat(t.username," ?"),onChange:function(e){M(e.target.value),console.log(e.target),L(e.target.scrollHeight)}}),o.a.createElement(C.b,{id:"add-input-emoji",onClick:function(e){!function(e){T(e.currentTarget)}(e)}}),k&&o.a.createElement(et,{anchorEl:k,handleClose:function(e){T(null)},handleAddEmoji:function(e){M(R+e.native)}})),o.a.createElement("hr",null),o.a.createElement("div",{id:"add-post-action"},o.a.createElement(Pe.a,{onDrop:n},(function(e){var t=e.getRootProps,n=e.getInputProps;return o.a.createElement("section",null,o.a.createElement("div",t(),o.a.createElement("input",n()),o.a.createElement("div",{id:"img-up-btn"},o.a.createElement("img",{src:a(198),alt:"imgUpIcon"}))))})),o.a.createElement("button",{id:"add-post-btn",onClick:m,disabled:!R.length&&!Boolean(l)},"Post")))}var lt=Object(r.b)((function(e){return{user:e.login}}))((function(e){var t=e.user,n=Object(c.useState)(!1),l=Object(d.a)(n,2),r=l[0],i=l[1],s=Object(c.useState)(null),u=Object(d.a)(s,2),m=u[0],E=u[1],p=Object(c.useState)(""),f=Object(d.a)(p,2),h=f[0],v=f[1],b=Object(c.useState)("Private"),A=Object(d.a)(b,2),I=A[0],C=A[1],y=function(e){E(e[0]),r||i(!r)},S=function(){i(!r)};return o.a.createElement("div",{id:"create-post-container"},r&&o.a.createElement(qe,{modalStatus:r,handleModalStatus:S,addPost:o.a.createElement(nt,{handleDrop:y,user:t,fileUp:m,post:h,pType:I,handleClearFileUpload:function(){E(null)},handlePassPostData:function(e,t){v(e),C(t)},handleSubmit:function(){console.log("[SUBMIT]",h,I,m);var t=new FormData;t.append("file",m),t.append("post",h),t.append("postType",I),e.dispatch(function(e){return function(t){L.a.post("/users/posts/new",e,{headers:{"x-auth":tt}}).then((function(e){console.log("[PROMISE-postNew]",e.data);var a=e.data;t(at(a))})).catch((function(e){return console.log(e)}))}}(t)),S(),E(null),v(""),C("Private")}})}),o.a.createElement("div",{id:"ava-input"},o.a.createElement(g.a,{id:"post-avatar",src:t.profileImg}),o.a.createElement("input",{id:"input-post",type:"text",placeholder:"Whats on your mind,".concat(t.username," ?"),readOnly:!0,onClick:S})),o.a.createElement("hr",null),o.a.createElement("div",{id:"post-action"},o.a.createElement(Pe.a,{onDrop:y},(function(e){var t=e.getRootProps,n=e.getInputProps;return o.a.createElement("section",null,o.a.createElement("div",t(),o.a.createElement("input",n()),o.a.createElement("div",{id:"img-up-btn"},o.a.createElement("img",{src:a(198),alt:"imgUpIcon"}),"Image")))}))))}));var ct=Object(r.b)((function(e){return{posts:e.login.posts,userId:e.login._id}}))((function(e){var t=e.posts,a=e.userId;console.log(t,"-----\x3e posts");var n=function(t,a){console.log("deletePost",t,a),e.dispatch(function(e,t,a){return function(n){L.a.put("/users/posts/".concat(t,"/").concat(e),a,{headers:{"x-auth":tt}}).then((function(e){console.log("[PROMISE-postDelete]",e.data);var t=e.data;n({type:"DELETE_POST",payload:t})})).catch((function(e){return console.log(e)}))}}(t,a))};return o.a.createElement("div",null,null===t||void 0===t?void 0:t.map((function(e){return o.a.createElement(M,{key:e._id,post:e,userId:a,handleDeletePost:n})})))}));var ot=function(){return o.a.createElement("div",null,o.a.createElement(lt,null),o.a.createElement(ct,null))};var rt=Object(r.b)()((function(e){var t=function(t){console.log(t,"[POST_SERVER-PUBLIC]"),e.dispatch({type:"ADD_NEW_PUBLIC_POST",payload:t})},a=function(t){console.log(t,"[POST_SERVER-FRIEND]"),e.dispatch(at(t))};return Object(c.useEffect)((function(){return console.log("socketFnPosts() connected on load"),s.on("publicPost",t),s.on("addNewFriendPost",a),function(){console.log("socket listening closed"),s.off("publicPost",t),s.off("addNewFriendPost",a)}}),[]),null}));var it=Object(r.b)((function(e){return{user:e.login}}))((function(e){var t=e.user;return Object(c.useEffect)((function(){s.emit("userId",{userId:t._id})}),[t._id]),o.a.createElement(u.a,null,o.a.createElement("div",null,o.a.createElement(te,null),o.a.createElement(He,null),o.a.createElement(Xe,null),o.a.createElement(rt,null),o.a.createElement(m.d,null,o.a.createElement(m.b,{exact:!0,path:"/",component:N}),o.a.createElement(m.b,{path:"/users/login",component:F}),o.a.createElement(m.b,{path:"/users/register",component:ue}),o.a.createElement(m.b,{path:"/users/search",component:Ee}),o.a.createElement(m.b,{path:"/users/friends",component:Le}),o.a.createElement(m.b,{path:"/users/intercom",component:Je}),o.a.createElement(m.b,{path:"/users/chat",component:Be}),o.a.createElement(m.b,{path:"/users/videocall/:id",component:_e}),o.a.createElement(m.b,{path:"/users/videocall/",component:_e}),o.a.createElement(m.b,{path:"/users/posts/",component:ot}))))})),st=a(102),ut=a(215),mt={_id:"",username:"",email:"",profileImg:"",notifications:[],friends:[],posts:[]},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object.assign({},e,{_id:t.payload._id,username:t.payload.username,email:t.payload.email,profileImg:t.payload.profilePicUrl,notifications:t.payload.notifications,friends:t.payload.friends,posts:t.payload.posts});case"SET_SEND_MSG":var a=e.friends.map((function(e){return e.info._id===t.payload._id?(e.inbox.push(t.payload.inbox),e):e}));return Object.assign({},e,{friends:a});case"UPLOAD_FILE":var n=e.friends.map((function(e){return e.info._id===t.payload._id?(e.inbox.push(t.payload.inbox),e):e}));return Object.assign({},e,{friends:n});case"UPDATE_FRIEND_LIST":return Object.assign({},e,{friends:t.payload});case"FRIEND_CANCEL_REQUEST":var l=e.friends.filter((function(e){return e.info._id!==t.payload._id}));return Object.assign({},e,{friends:l});case"FRIEND_ACCEPT_REQUEST":var c=e.friends.map((function(e){return e.info._id===t.payload._id?(e.status=t.payload.status,e.isFriend=t.payload.isFriend,e):e}));return Object.assign({},e,{friends:c});case"FRIEND_REJECT_REQUEST":var o=e.friends.filter((function(e){return e.info._id!==t.payload._id}));return Object.assign({},e,{friends:o});case"FRIEND_REMOVE":var r=e.friends.filter((function(e){return e.info._id!==t.payload._id}));return Object.assign({},e,{friends:r});case"ADD_NEW_POST":var i=[t.payload].concat(e.posts);return Object.assign({},e,{posts:i});case"DELETE_POST":var s=t.payload;return Object.assign({},e,{posts:s});case"CLEAR_USER_DATA":return Object.assign({},e,{_id:"",username:"",email:"",profileImg:"",notification:[],friends:[],posts:[]});default:return Object(ae.a)({},e)}},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECTED_ID":return t.payload;default:return e}},pt=a(138),gt=[],ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH_RESULT":return t.payload;case"SET_SENT_REQUEST":case"SET_CANCEL_REQUEST":case"SET_ACCEPT_REQUEST":return e.map((function(e){return e._id===t.payload._id?Object.assign({},e,t.payload):Object.assign({},e)}));case"SET_REJECT_REQUEST":return e.filter((function(e){return e._id!==t.payload._id}));case"SET_REMOVE_FRIEND":return e.map((function(e){return e._id===t.payload._id?Object.assign({},e,t.payload):Object.assign({},e)}));case"CLEAR_SEARCH_RESULT":return[];default:return Object(pt.a)(e)}},ht={"friends.info":null,"friends.inbox":null},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CHAT_INBOX":return{"state.friends.info":t.payload.data.friends.info,"state.friends.inbox":t.payload.data.friends.inbox};default:return Object(ae.a)({},e)}},bt={signal:null,inCall:!1,callInitiator:!1,callReceiving:!1},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_SIGNAL":return Object.assign({},e,{signal:t.payload});case"INCALL_STATUS":return Object.assign({},e,{inCall:t.payload});case"INCALL_RECEIVING":return Object.assign({},e,{inCall:t.payload,callReceiving:t.payload});case"INCALL_INITIATE":return Object.assign({},e,{inCall:t.payload,callInitiator:t.payload});case"CLEAR_CALL_STATE":return Object.assign({},e,{signal:null,inCall:!1,callInitiator:!1,callReceiving:!1});default:return e}},It=[],Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PUBLIC_POSTS":return t.payload;case"ADD_NEW_PUBLIC_POST":return[t.payload].concat(e);default:return Object(pt.a)(e)}},yt=function(){return Object(st.d)(Object(st.c)({login:dt,selectedChat:Et,searchResult:ft,chat:vt,call:At,publicPosts:Ct}),Object(st.a)(ut.a))},St=(a(348),yt());St.dispatch((function(e){L.a.get("/users/getLatestPublicPosts").then((function(t){console.log("[PROMISE-publicPosts]",t.data);var a=t.data;e({type:"SET_PUBLIC_POSTS",payload:a})})).catch((function(e){return console.log(e)}))})),localStorage.getItem("token")&&St.dispatch((function(e){L.a.get("/users/account",{headers:{"x-auth":Z}}).then((function(t){console.log("[PROMISE-login-acc]",t.data);var a=t.data;a.hasOwnProperty("errors")?(localStorage.removeItem("token"),alert("session expired"),window.location.href="/users/login"):e(function(e){return{type:"SET_USER_DATA",payload:e}}(a))})).catch((function(e){return console.log(e)}))})),St.subscribe((function(){console.log(St.getState())}));var Ot=o.a.createElement(r.a,{store:St},o.a.createElement(it,null));l.a.render(Ot,document.getElementById("root"))}},[[233,1,2]]]);
//# sourceMappingURL=main.e0b7aa04.chunk.js.map